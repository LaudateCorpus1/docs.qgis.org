
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ca">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Producing an arcHYDRO like output with QGIS</title>
    <link rel="stylesheet" href="../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-2.3.2/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/qgis-style.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-2.3.2/css/bootstrap-responsive.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-sphinx.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '3.8.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/translations.js"></script>
    <script type="text/javascript" src="../../../_static/qgis-site.js"></script>
    <script type="text/javascript" src="../../../_static/bootstrap-2.3.2/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.countdown-2.0.4/jquery.countdown.min.js"></script>
    <link rel="shortcut icon" href="../../../_static/images/favicon.ico?1322140996"/>
    <link rel="index" title="Índex" href="../../../genindex.html" />
    <link rel="search" title="Cercar" href="../../../search.html" />
    <link rel="next" title="El grup lleva mines danès (DDG) està utilitzant el QGIS a Afganistan" href="afghanistan.html" />
    <link rel="prev" title="Utilitza les eines de processament per automatitzar la classificació de les nevades" href="australia_snowyhydro.html" />
    <script src="https://js.stripe.com/v3/"></script>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
    <meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegació</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="Índex General"
             accesskey="I">índex</a></li>
        <li class="right" >
          <a href="afghanistan.html" title="El grup lleva mines danès (DDG) està utilitzant el QGIS a Afganistan"
             accesskey="N">següent</a> |</li>
        <li class="right" >
          <a href="australia_snowyhydro.html" title="Utilitza les eines de processament per automatitzar la classificació de les nevades"
             accesskey="P">anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html"></a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Descobriu QGIS</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Casos d’estudi</a> &#187;</li> 
      </ul>
    </div>

    
  <div id="navbar" class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

        <a class="brand" href="../../index.html">QGIS</a>
        <span class="navbar-text pull-left"><p><b>3.8.2 ​ <br/> 3.4.11 LTR</b></p></span>
        
          <select id="languages">
  <!-- note on the options here: the 'title' string is to be translated in your
  language, but the element text is supposed to stay in native lang/txt -->
  <option value="en" title="Anglès">English</option>
  <option value="ca" title="Català">Català</option>
  <option value="da" title="Danès">Dansk</option>
  <option value="de" title="Alemany">Deutsch</option>
  <option value="es" title="Español">Español</option>
  <option value="fa" title="Persa">فارسی</option>
  <option value="fi" title="Finlandès">Suomi</option>
  <option value="fr" title="Francés">Français</option>
  <option value="gl" title="Galician">Galego</option>
  <option value="id" title="Indonesi">Bahasa Indonesia</option>
  <option value="it" title="Italià">Italiano</option>
  <option value="hu" title="Hongarès">Magyar</option>
  <option value="ja" title="Japonés">日本語</option>
  <option value="km_KH" title="Khmer">ភាសាខ្មែរ    </option>
  <option value="ko" title="Coreà">한국어</option>
  <option value="lt" title="Lituà">Lietuvių</option>
  <option value="nl" title="Neerlandès">Nederlands</option>
  <option value="pl" title="Polonès">Polski</option>
  <option value="pt_BR" title="Portuguès (Brasil)">Português (Brasil)</option>
  <option value="pt_PT" title="Portuguès">Português</option>
  <option value="ro" title="Romanès">Română</option>
  <option value="tr" title="Turc">Türkçe</option>
  <option value="ru" title="Rus">Русский</option>
  <option value="uk" title="Ucraïnès">Українська</option>
  <option value="zh-Hans" title="Chinese (Simplified)">簡体中文</option>
  <option value="zh-Hant" title="Chinese (Traditional)">正體中文</option>
</select>

<script>
    var currentPage = 'site/about/case_studies/china_hydro.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    // split index.html if currentUrl is ended by '/'
    var currentUrl = window.location.href;
    if (currentUrl.slice(-1) == '/' && currentPage.slice(-1) != '/'){
      var pages = currentPage.split('/');
      pages.pop();
      currentPage = pages.join('/') + '/';
    }
    $(document).ready(function(){
        var search = new RegExp('\/[a-zA-Z_-]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is the index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_-]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_-]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave
        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('This is an documentation error, please report back to QGIS devs.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');
        // TODO: links should come from conf.py
        // TODO: all template pages have the actual translation in sphinc.conf
        // IMPORTANT: space, -, _ etc replacing below must be 100% inline with
        // code in scripts/create_transifex_resources.sh !!
        // https://github.com/qgis/QGIS-Website/blob/master/scripts/create_transifex_resources.sh
        fix_translation_link = 'https://www.transifex.com/projects/p/qgis-website/translate/#' + 
            currentLang.slice(1) + currentPage.replace(/_/g, "-").replace(/ /g, "-").replace(/\//g, "_").replace(/\.html/g, "").replace(/\./g, "-")
        if ('/en/' != currentLang) {
            $('#fix_translation_link').attr('href', fix_translation_link);
        }
        fix_text_link = 'https://github.com/qgis/QGIS-Website/edit/master/source/' +
            currentPage.replace(/.html/g, ".rst")
        // TODO: only on rst pages, here a list of pages which are actual templates?
        if (true){
            $('#fix_text_link').attr('href', fix_text_link);
        }

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

        if (currentPage == "site/about/screenshots.html"){
            atom('/feeds/qgisflickrscreenshots.atom', '#qgisflickrscreenshotsatom', 30, false, 'span3');
            atom('/feeds/qgisflickrmaps.atom', '#qgisflickrmapsatom', 30, false, 'span3');
        }
        else if (currentPage == "site/about/sustaining_members.html" || currentPage.indexOf("visualchangelog")>0){
            // crontab is pulling url's below and copy to /feed at qgis.org
            // http://changelog.qgis.org/en/qgis/sponsors/json/
            json2html('/feeds/qgissponsors.json', '#qgissustainingmembersatom', 1000, true, 'span3');
            // http://changelog.qgis.org/en/qgis/past-sponsors/json/?years_limit=2
            json2html('/feeds/qgispastsponsors.json', '#qgispastsustainingmembersatom', 1000, true, 'span3');
        }
        else if (currentPage == "site/forusers/download.html" || currentPage == "site/forusers/alldownloads.html"){
            $($('section.content')[0]).append('<div id="thankyou"> <div id="thankyoucontent">'+
            '<h2>Moltes gràcies!</h2> <p/>'+
            '<div class="container"><div class="span8">'+
            '<p>Your freshly baked copy of QGIS is downloading. QGIS is free of charge, and will always be free of charge if downloaded from QGIS.org. If you can afford to support the project and people making this software, please consider making <a href="https://qgis.org/en/site/getinvolved/donations.html">a small donation to support</a> our efforts. Whether you choose to donate or not, we hope that you enjoy using our labour of love and encourage you to share and spread your downloaded copy far and wide so that others may enjoy it too. Our very best regards!</p>'+
            '<p>L&#39;equip QGIS</p>'+
            '</div><div class="container">'+
            '<div class="span4"><p><a class="btn btn-large btn-success btn-flat" href="../getinvolved/donations.html">Feu una donació ara</a></p><p class="muted"></p></div>'+
            '<div class="span5"><p><a id="closethankyou"class="btn btn-large btn-success btn-flat" href="#">Tanca aquest missatge</a></p><p class="muted"></p></div>'+
            '</div>'+
            '<br/><p><img src="../../../_static/images/splash.png"/></p></div>');
            $('#thankyou').click(function(){ $('#thankyou').hide(); });
            $('#closethankyou').click(function(){ $('#thankyou').hide(); });
            $('a.reference').click(function(){
                $('#thankyou').show();
                return true;
            });
	    replacesha('qgis-rel-dev-x86');
	    replacesha('qgis-rel-dev-x86_64');
	    replacesha('qgis-ltr-dev-x86');
	    replacesha('qgis-ltr-dev-x86_64');
	    replacesha('qgis-dev-x86');
	    replacesha('qgis-dev-x86_64');
        }
        else if (currentPage == "site/getinvolved/donations.html"){
            // inject the stripeform into this page
            $.get( "/stripe/form", function( data ) { $( "#stripe" ).html( data ); });
            // create thankyou and error page
            $($('div.container')[0]).append('<div id="thankyou"> <div id="thankyoucontent">'+
            '<h2>Thank you for your donation!</h2> <p/>'+
            '<div class="container"><div class="span8">'+
            '<p id="stripemsg">QGIS is free of charge and we hope that you enjoy using our labour of love and encourage you to share and spread your downloaded copy far and wide so that others may enjoy it too. Our very best regards!</p>'+
            '<p id="stripeerr" style="display:none;">Unfortunately there was an error processing your Donation. Please try again later, or contact us via finance@qgis.org</p>'+
            '<p>L&#39;equip QGIS</p>'+
            '</div><div class="container">'+
            '<div class="span5"><p><a id="closethankyou"class="btn btn-large btn-success btn-flat" href="#">Tanca aquest missatge</a></p><p class="muted"></p></div>'+
            '</div>'+
            '<br/><p><img src="../../../_static/images/splash.png"/></p></div>');
            $('#thankyou').click(function(){ $('#thankyou').hide(); });
            $('#closethankyou').click(function(){ $('#thankyou').hide(); });
        }
    });

    //
    // load current page in a different language
    //
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
    //
    // function to load a json (feed) and create html for it
    // currently only used for sustaining members
    //
    function json2html(url, holder, count, showcont, spanclass){
        var html = '';
        $.getJSON(url, function (data) {
            if (spanclass == undefined){
                spanclass = "span2"
            }
            var maxitems = 7;
            if(count)maxitems=count;
            var showcontent = false;
            if(showcont)showcontent=showcont;
            var counter = 0;

            $.each( data.rss.channel.item, function( key, val ){
              var item = val;
              var imglink = '#';
              var link = '#';
              var content = '';
              var sponsor_level = 'Bronze';
              if (item.sponsor_url){link=item.sponsor_url};
              if (item.image_url){imglink=item.image_url};
              if (item.sponsor_level){sponsor_level=item.sponsor_level};
              var title = item.title;
              content = '<div><img class="sponsor_img '+sponsor_level.toLowerCase()+'" src="'+imglink+'" width="300px"></div>'+
                '<p class="sponsor_body '+sponsor_level.toLowerCase()+'">'+item.sponsor_country+'<br/>Sponsorship level: '+sponsor_level+'<br/>'+
                '('+item.start_date+' - '+item.end_date+')</p>';
              html+='<div class="clearfix"><a  class="clearfix" href="'+link+'">';
              html+='<div class="sponsordiv"><h4>'+title+'</h4>';
              html+=content;
              html+='</div></a></div>';
            })
          $(holder).append(html);
        })
    }
    //
    // function to load an atom feed, an put it in an element
    //
    function atom(url, holder, count, showcont, spanclass){
        $.get(url, function (data) {
            var html = "";
            if (spanclass == undefined){
                spanclass = "span2"
            }
            var maxitems = 7;
            if(count)maxitems=count;
            var showcontent = false;
            if(showcont)showcontent=showcont;
            var counter = 0;
            $(data).find("entry").each(function () {
                var el = $(this);
                var title = el.find('title').text();
                var author = el.find('name').text();
                var content = el.find('content').text();
                if (content.length==0){
                    // try summary
                    content = el.find('summary').text();
                }
                var imglink='#';
                var link='#';
                el.find('link').each(
                    function(){
                        // flickr image for maps and qgis screenshots
                        if ($(this).attr('rel') == 'enclosure'){
                            //    s - Specifies the small square size of 75x75 pixels.
                            //    t - Specifies the thumbnail size with 100 pixels on the longest side.
                            //    m - Specifies the medium size with 240 pixels on the longest side.
                            //    z - Specifies the medium size with 640 pixels on the longest side.
                            //    b - Specifies the large size with 1024 pixels on the longest side.
                            //    q - square 
                            imglink = $(this).attr('href').replace('_b.jpg','_q.jpg');
                        }
                        // links
                        else if ($(this).attr('rel') == 'alternate'){
                            link = $(this).attr('href');
                        }
                    }
                )
                counter++;

                if (counter<=maxitems && 
                    (holder == '#qgisflickrmapsatom' || holder == '#qgisflickrscreenshotsatom') ){
                    // html for flickr maps
                    html+='<div class="'+spanclass+'"><p><a class="external" href="'+link+'">';
                    if(imglink!='#'){ html+='<img class="flickrimg" src="'+imglink+'"/>'; }
                    html+='</a></p></div>\n';
                }
                else if (counter<=maxitems){
                    // visual changelogs, qugs feed and planet feed
                    var addit = true;
                    if (holder == '#qgisplanetatom'){
                        var s = title.split(':');
                        title = s[0];
                        content = s[1];
                        // skip blog.qgis.org posts
                        if (link.indexOf('blog.qgis.org')>=0){
                            addit = false;
                            counter --;
                        }
                    }
                    else if (holder == '#qgissustainingmembersatom' || holder == '#qgissustainingmembersatom'){
                        html+='<div class="clearfix"><a  class="clearfix" href="'+link+'">';
                        html+='<div class="sponsordiv"><h4>'+title+'</h4>';
                        html+=content;
                        html+='</div></a></div>';
                        addit = false; // we are building html ourselves!!
                    }
                    else if (holder == '#qgisblogatom'){
                        var s = title.split(':');
                        if (s[0] != 'QGIS Project blog'){
                            addit = false;
                            counter--;
                        }
                        // trying to extract date from link
                        // http://blog.qgis.org/2017/09/02/do-you-want-to-host-a-qgis-developer-meeting/
                        d = link.split('/').slice(3,6);  // 2017,09,02
                        title = '<img src="../_static/logo.png" style="width:30px;"/> - ' + d[0] + '/' + d[1] + '/' + d[2] + ' - ' + s[1];
                        content = '';
                    }
                    if (addit){
                        html+='<a class="external" href="'+link+'">';
                        html+='<div class="info-box" style="padding:10px;color:#666;"><b>'+title+'</b><br/>';
                        if (showcontent) { html+=content; };
                        html+='</div></a>\n';
                    }
                }
            });
            $(holder).append(html);
        });
    }

    //
    // function to replace a item
    //
    function replacesha(id) {
      var xhr = new XMLHttpRequest();
      xhr.onload = function () {
	var sha = this.responseText.substring(this.responseText.indexOf(':')+1);
        document.getElementById(id).innerHTML = "<a target=\"_new\" href=\"http://github.com/qgis/QGIS/commit/" + sha + "\">" + sha + "</a>";
      };
      xhr.open('GET', '/downloads/' + id + '.sha');
      xhr.send();
    }
</script>
        
        <div class="nav-collapse collapse">
          <ul class="unstyled nav main-menu">
            <li><a href="../index.html">Descobriu QGIS</a></li>
            <li><a href="../../forusers/index.html">Per usuaris</a></li>
            <li><a href="../../getinvolved/index.html">Involucreu-vos</a></li>
            <li><a href="../../../docs/index.html">Documentació</a></li>
            <li>
          
<form class="navbar-search" action="../../../search.html" method="get">
  <input type="text" name="q" class="search-query" placeholder="Cercar" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </li>
          </ul>
        </div>
      </div>
    </div>
  </div>


    <div style="display:none;" class="container" id="nextprev" >
    
    <a accesskey="p" href="australia_snowyhydro.html">&lt;&lt; prev</a>
    
    
    <a accesskey="n" href="afghanistan.html">next &gt;&gt;</a>
    
    </div>




    
        <div class="container">
            <div class="row">
      <div class="span4">
        <div id="sidebar" class="bs-sidenav well" data-spy="scroll"><ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Descobriu QGIS</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../features.html">Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../screenshots.html">Map Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../screenshots.html#screenshots">Screenshots</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Casos d’estudi</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="index.html#id1">2019</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id2">2017</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id3">2016</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html#id4">2015</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="europe_lynx.html">[2015/08] Lynx habitat analysis in the Southern Carpathians by Angela Dichte, Luca Ehrminger, Silvana Garcia Travesi Reyes, Tobias Hoppe and David Winger</a></li>
<li class="toctree-l4"><a class="reference internal" href="africa_tiger.html">[2015/04] Water Observation and Information System: Enabling the Use of Earth Observation Data for Integrated Water Resource Management in Africa by Radoslaw Guzinski</a></li>
<li class="toctree-l4"><a class="reference internal" href="italy_rome.html">[2015/03] QGIS geoprocessing model to simplify first level seismic microzonation analysis by Giuseppe Cosentino and Francesco Pennica</a></li>
<li class="toctree-l4"><a class="reference internal" href="australia_snowyhydro.html">[2015/02] Using the processing toolbox to automate snow classification by Andrew Jeffrey</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">[2015/02] Producing an arcHYDRO like output with QGIS by Robert Ward</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id5">2014</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id6">2013</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id7">2012</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id8">2011</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id9">2010</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#id10">2009</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../sustaining_members.html">Sustaining members, sponsors and Donors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shop_goodies.html">Shop</a></li>
<li class="toctree-l2"><a class="reference external" href="http://planet.qgis.org">Blogs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../forusers/index.html">Per usuaris</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getinvolved/index.html">Involucreu-vos / Desenvolupament</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/index.html">Documentació</a></li>
</ul>

        </div>
      </div>
                <div class="span8">
                    
                        
                            <div class="section" id="producing-an-archydro-like-output-with-qgis">
<h1>Producing an arcHYDRO like output with QGIS<a class="headerlink" href="#producing-an-archydro-like-output-with-qgis" title="Link permanent a aquest títol">¶</a></h1>
<p>I work for a urban planning company in China.  It is often difficult to design proper environmental protection because the common sources of data may be a state secret or may not even exist.  Frequently, we are asked to do designs without proper survey data.   In addition there is usually not enough time for a proper study.  My background is in Urban Planning with a minor in Environmental Science.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../../_images/china_hydro1.jpg"><img alt="Overview Context Map" src="../../../_images/china_hydro1.jpg" style="width: 600px;" /></a>
</div>
<p>The task was plan a conservation park on the Chinese side of the Ili River which supplies 80% of the water to Lake Balkhash.  FOSS GIS application + FOSS GIS data stores + FOSS GIS education were all critical to reconstruct and model the Hydrological and Ecological processes necessary for authentic conservation planning.  As a non-scientist with no prior training or experience I could not have done it without all three.  My company did not and would not pay to purchase GIS software to run the industry standard arcHYDRO.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../../_images/china_hydro2.jpg"><img alt="Stream Order With Distance" src="../../../_images/china_hydro2.jpg" style="width: 5238.0px; height: 3690.0px;" /></a>
</div>
<div class="section" id="story">
<h2>Història<a class="headerlink" href="#story" title="Link permanent a aquest títol">¶</a></h2>
<p>With some trial and error I was able to produce an arcHYDRO like output from QGIS.  Beginning with a USGS Hydrosheds DEM which was converted into a Regularized Spline with Tension using the GRASS functions inside QGIS and training by Helena Mitsova.  The RST surface was analyzed this surface to find the catchments and flow paths, and resulting vector topologies were cleaned up in QGIS to generate the Hydrologic network and also to build up the attribute tables.</p>
<div class="figure align-left">
<a class="reference internal image-reference" href="../../../_images/china_hydro3.jpg"><img alt="Curve Number Grid" src="../../../_images/china_hydro3.jpg" style="height: 220px;" /></a>
</div>
<p>This network was ranked by r.stream extension in GRASS to build Hortons and Hacks stream ordering.  Then a distance to outlet surface grid was generated and analyzed by zonal statistics to find the farthest point.  Next, r.drain in GRASS to trace a time of concentration line.  Finally v.net in GRASS was used to build a network of pour points, flow paths, TOC paths, and HMDP for each watershed.  In this workflow, the QGIS tool attribute by location was invaluable.</p>
<div class="figure align-left">
<a class="reference internal image-reference" href="../../../_images/china_hydro4.jpg"><img alt="Flow Key" src="../../../_images/china_hydro4.jpg" style="height: 220px;" /></a>
</div>
<p>After the basic hydrologic network was finished I used UN FAO soils database with table joins to classify soils.  Then using query functions in QGIS the FAO soils were converted to USDA soils.  A previously downloaded USGS ETM7+ grid was classified with the i.cluser and r.maxlik in GRASS into a NLCD grid.  By using reclassification tables I converted the landcover to Manning’s n-value grid for overland flow.  Finally I wrote a lookup table in r.mapcalc and merged the soil and landcover grids into and NRCS TR-55 curve numbers following the arcHYDRO methodology.</p>
<div class="figure align-left">
<a class="reference internal image-reference" href="../../../_images/china_hydro5.jpg"><img alt="Flow rates" src="../../../_images/china_hydro5.jpg" style="height: 220px;" /></a>
</div>
<p>To create the rainfall grids I performed statistical analysis on GHCN tables to find rainfall depths for design storms of 1,2,5,10,50,100 year returns. Then I downloaded a free sample grid of PRISM for China and assuming a linear relationship, converted average cell values to maximum cell values in order to build maximum rainfall intensity grids.</p>
</div>
<div class="section" id="conclusion">
<h2>Conclusió<a class="headerlink" href="#conclusion" title="Link permanent a aquest títol">¶</a></h2>
<p>I began using QGIS out of desperation for lack of arcMAP but now I never want to go back.  The investment of time in FOSS is worthwhile because you can take it with you to any job.  The combination of GRASS QGIS PostGIS gives you the full functionality of expensive GIS systems.   The online learning resources provided were as valuable as the actual software.  I was able to learn QGIS fast enough to produce a great project in a fast based real world industry environment.</p>
</div>
<div class="section" id="author">
<h2>Autor<a class="headerlink" href="#author" title="Link permanent a aquest títol">¶</a></h2>
<div class="figure align-left" id="id1">
<a class="reference internal image-reference" href="../../../_images/china_hydro6.jpg"><img alt="Robert Ward" src="../../../_images/china_hydro6.jpg" style="height: 220px;" /></a>
<p class="caption"><span class="caption-text">Robert Ward</span></p>
</div>
<p>Robert Ward is an Urban Designer and GIS Analyst at Parsons Brinkerhoff working at the intersection of high technology and high art.  He has taught at Tongji University and Autodesk University.  He is interested in GIS-based Hydrologic &amp; Hydraulic modelling, Landscape Ecology modelling, Ecosystem Valuation, Transportation Modelling and GIS-Based Design Visualization.</p>
</div>
</div>

                        
                    
                </div>
                  
            </div>
        </div>
    

    <!--<a href="https://github.com/qgis/"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png" alt="Fork me on GitHub"></a>-->
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navegació</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="Índex General"
             >índex</a></li>
        <li class="right" >
          <a href="afghanistan.html" title="El grup lleva mines danès (DDG) està utilitzant el QGIS a Afganistan"
             >següent</a> |</li>
        <li class="right" >
          <a href="australia_snowyhydro.html" title="Utilitza les eines de processament per automatitzar la classificació de les nevades"
             >anterior</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html"></a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Descobriu QGIS</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Casos d’estudi</a> &#187;</li> 
      </ul>
    </div>
  <footer class="footer">

    <div class="container">
        <div>
          <ul class="unstyled inline" id="social">
            <li id="twitter"><a href="http://twitter.com/qgis" class="external"><div></div></a></li>
            <li id="facebook"><a href="https://www.facebook.com/pages/QGIS-Quantum-GIS-/298112000235096" class="external"><div></div></a></li>
            <li id="gplus"><a href="http://plus.google.com/communities/114776597176808981624" class="external"><div></div></a></li>
            <li id="github"><a href="http://github.com/qgis/" class="external"><div></div></a></li>
            <li id="aboutcontact"><a href="../../getinvolved/index.html"><div></div></a></li>
          </ul>
        </div>

        <p class="credit">Si no s'indica una altra cosa, tots els continguts estan llicenciats sota <a href="http://creativecommons.org/licenses/by-sa/3.0/"> la llicència 3.0 de Creative Commons Attribution-ShareAlike (CC BY-SA)</a></p>
    </div>
    <div class="container">
      <p class="credit">
        Seleccioneu gràfics des <a href="http://thenounproject.com" target="_blank">la col·lecció del Projecte Noun </a>
        
        
      </p>
      <p class="credit">
        Si la pàgina no està traduïda o heu detectat un error de traducció: 
        <a id="fix_translation_link" target="_blank" href="https://www.transifex.com/projects/p/qgis-website/">arregleu-me</a>
        <br/>
        Si veieu un error o mancança en el text o el podeu millorar:
        <a id="fix_text_link" target="_blank" href="https://github.com/qgis/QGIS-Website">arregleu-me</a>
      </p>
    </div>
  </footer>

  </body>
</html>