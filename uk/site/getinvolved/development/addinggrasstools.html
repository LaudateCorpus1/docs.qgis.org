
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="uk">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Додавання інструментів GRASS</title>
    <link rel="stylesheet" href="../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-2.3.2/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/qgis-style.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-2.3.2/css/bootstrap-responsive.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-sphinx.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '3.8.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/qgis-site.js"></script>
    <script type="text/javascript" src="../../../_static/bootstrap-2.3.2/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.countdown-2.0.4/jquery.countdown.min.js"></script>
    <link rel="shortcut icon" href="../../../_static/images/favicon.ico?1322140996"/>
    <link rel="index" title="Індекс" href="../../../genindex.html" />
    <link rel="search" title="Пошук" href="../../../search.html" />
    <link rel="next" title="Tests" href="../tests.html" />
    <link rel="prev" title="Development in QGIS" href="development.html" />
    <script src="https://js.stripe.com/v3/"></script>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
    <meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Навігація</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="Загальний індекс"
             accesskey="I">індекс</a></li>
        <li class="right" >
          <a href="../tests.html" title="Tests"
             accesskey="N">наступний</a> |</li>
        <li class="right" >
          <a href="development.html" title="Development in QGIS"
             accesskey="P">попередній</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html"></a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Взяти участь / Розробка</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Розробка</a> &#187;</li> 
      </ul>
    </div>

    
  <div id="navbar" class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

        <a class="brand" href="../../index.html">QGIS</a>
        <span class="navbar-text pull-left"><p><b>3.8.2 ​ <br/> 3.4.11 LTR</b></p></span>
        
          <select id="languages">
  <!-- note on the options here: the 'title' string is to be translated in your
  language, but the element text is supposed to stay in native lang/txt -->
  <option value="en" title="English">English</option>
  <option value="ca" title="Catalan">Català</option>
  <option value="da" title="Danish">Dansk</option>
  <option value="de" title="German">Deutsch</option>
  <option value="es" title="Spanish">Español</option>
  <option value="fa" title="Persian">فارسی</option>
  <option value="fi" title="Finnish">Suomi</option>
  <option value="fr" title="French">Français</option>
  <option value="gl" title="Galician">Galego</option>
  <option value="id" title="Indonesian">Bahasa Indonesia</option>
  <option value="it" title="Italian">Italiano</option>
  <option value="hu" title="Hungarian">Magyar</option>
  <option value="ja" title="Japanese">日本語</option>
  <option value="km_KH" title="Khmer">ភាសាខ្មែរ    </option>
  <option value="ko" title="Korean">한국어</option>
  <option value="lt" title="Lithuanian">Lietuvių</option>
  <option value="nl" title="Dutch">Nederlands</option>
  <option value="pl" title="Polish">Polski</option>
  <option value="pt_BR" title="Portuguesei (Brazil)">Português (Brasil)</option>
  <option value="pt_PT" title="Portuguese">Português</option>
  <option value="ro" title="Romanian">Română</option>
  <option value="tr" title="Turkish">Türkçe</option>
  <option value="ru" title="Russian">Русский</option>
  <option value="uk" title="Українська">Українська</option>
  <option value="zh-Hans" title="Chinese (Simplified)">簡体中文</option>
  <option value="zh-Hant" title="Chinese (Traditional)">正體中文</option>
</select>

<script>
    var currentPage = 'site/getinvolved/development/addinggrasstools.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    // split index.html if currentUrl is ended by '/'
    var currentUrl = window.location.href;
    if (currentUrl.slice(-1) == '/' && currentPage.slice(-1) != '/'){
      var pages = currentPage.split('/');
      pages.pop();
      currentPage = pages.join('/') + '/';
    }
    $(document).ready(function(){
        var search = new RegExp('\/[a-zA-Z_-]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is the index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_-]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_-]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave
        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('This is an documentation error, please report back to QGIS devs.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');
        // TODO: links should come from conf.py
        // TODO: all template pages have the actual translation in sphinc.conf
        // IMPORTANT: space, -, _ etc replacing below must be 100% inline with
        // code in scripts/create_transifex_resources.sh !!
        // https://github.com/qgis/QGIS-Website/blob/master/scripts/create_transifex_resources.sh
        fix_translation_link = 'https://www.transifex.com/projects/p/qgis-website/translate/#' + 
            currentLang.slice(1) + currentPage.replace(/_/g, "-").replace(/ /g, "-").replace(/\//g, "_").replace(/\.html/g, "").replace(/\./g, "-")
        if ('/en/' != currentLang) {
            $('#fix_translation_link').attr('href', fix_translation_link);
        }
        fix_text_link = 'https://github.com/qgis/QGIS-Website/edit/master/source/' +
            currentPage.replace(/.html/g, ".rst")
        // TODO: only on rst pages, here a list of pages which are actual templates?
        if (true){
            $('#fix_text_link').attr('href', fix_text_link);
        }

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

        if (currentPage == "site/about/screenshots.html"){
            atom('/feeds/qgisflickrscreenshots.atom', '#qgisflickrscreenshotsatom', 30, false, 'span3');
            atom('/feeds/qgisflickrmaps.atom', '#qgisflickrmapsatom', 30, false, 'span3');
        }
        else if (currentPage == "site/about/sustaining_members.html" || currentPage.indexOf("visualchangelog")>0){
            // crontab is pulling url's below and copy to /feed at qgis.org
            // http://changelog.qgis.org/en/qgis/sponsors/json/
            json2html('/feeds/qgissponsors.json', '#qgissustainingmembersatom', 1000, true, 'span3');
            // http://changelog.qgis.org/en/qgis/past-sponsors/json/?years_limit=2
            json2html('/feeds/qgispastsponsors.json', '#qgispastsustainingmembersatom', 1000, true, 'span3');
        }
        else if (currentPage == "site/forusers/download.html" || currentPage == "site/forusers/alldownloads.html"){
            $($('section.content')[0]).append('<div id="thankyou"> <div id="thankyoucontent">'+
            '<h2>Дякуємо!</h2> <p/>'+
            '<div class="container"><div class="span8">'+
            '<p>Your freshly baked copy of QGIS is downloading. QGIS is free of charge, and will always be free of charge if downloaded from QGIS.org. If you can afford to support the project and people making this software, please consider making <a href="https://qgis.org/en/site/getinvolved/donations.html">a small donation to support</a> our efforts. Whether you choose to donate or not, we hope that you enjoy using our labour of love and encourage you to share and spread your downloaded copy far and wide so that others may enjoy it too. Our very best regards!</p>'+
            '<p>Команда QGIS</p>'+
            '</div><div class="container">'+
            '<div class="span4"><p><a class="btn btn-large btn-success btn-flat" href="../getinvolved/donations.html">Зробіть пожертву зараз</a></p><p class="muted"></p></div>'+
            '<div class="span5"><p><a id="closethankyou"class="btn btn-large btn-success btn-flat" href="#">Закрити вікно</a></p><p class="muted"></p></div>'+
            '</div>'+
            '<br/><p><img src="../../../_static/images/splash.png"/></p></div>');
            $('#thankyou').click(function(){ $('#thankyou').hide(); });
            $('#closethankyou').click(function(){ $('#thankyou').hide(); });
            $('a.reference').click(function(){
                $('#thankyou').show();
                return true;
            });
	    replacesha('qgis-rel-dev-x86');
	    replacesha('qgis-rel-dev-x86_64');
	    replacesha('qgis-ltr-dev-x86');
	    replacesha('qgis-ltr-dev-x86_64');
	    replacesha('qgis-dev-x86');
	    replacesha('qgis-dev-x86_64');
        }
        else if (currentPage == "site/getinvolved/donations.html"){
            // inject the stripeform into this page
            $.get( "/stripe/form", function( data ) { $( "#stripe" ).html( data ); });
            // create thankyou and error page
            $($('div.container')[0]).append('<div id="thankyou"> <div id="thankyoucontent">'+
            '<h2>Thank you for your donation!</h2> <p/>'+
            '<div class="container"><div class="span8">'+
            '<p id="stripemsg">QGIS is free of charge and we hope that you enjoy using our labour of love and encourage you to share and spread your downloaded copy far and wide so that others may enjoy it too. Our very best regards!</p>'+
            '<p id="stripeerr" style="display:none;">Unfortunately there was an error processing your Donation. Please try again later, or contact us via finance@qgis.org</p>'+
            '<p>Команда QGIS</p>'+
            '</div><div class="container">'+
            '<div class="span5"><p><a id="closethankyou"class="btn btn-large btn-success btn-flat" href="#">Закрити вікно</a></p><p class="muted"></p></div>'+
            '</div>'+
            '<br/><p><img src="../../../_static/images/splash.png"/></p></div>');
            $('#thankyou').click(function(){ $('#thankyou').hide(); });
            $('#closethankyou').click(function(){ $('#thankyou').hide(); });
        }
    });

    //
    // load current page in a different language
    //
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
    //
    // function to load a json (feed) and create html for it
    // currently only used for sustaining members
    //
    function json2html(url, holder, count, showcont, spanclass){
        var html = '';
        $.getJSON(url, function (data) {
            if (spanclass == undefined){
                spanclass = "span2"
            }
            var maxitems = 7;
            if(count)maxitems=count;
            var showcontent = false;
            if(showcont)showcontent=showcont;
            var counter = 0;

            $.each( data.rss.channel.item, function( key, val ){
              var item = val;
              var imglink = '#';
              var link = '#';
              var content = '';
              var sponsor_level = 'Bronze';
              if (item.sponsor_url){link=item.sponsor_url};
              if (item.image_url){imglink=item.image_url};
              if (item.sponsor_level){sponsor_level=item.sponsor_level};
              var title = item.title;
              content = '<div><img class="sponsor_img '+sponsor_level.toLowerCase()+'" src="'+imglink+'" width="300px"></div>'+
                '<p class="sponsor_body '+sponsor_level.toLowerCase()+'">'+item.sponsor_country+'<br/>Sponsorship level: '+sponsor_level+'<br/>'+
                '('+item.start_date+' - '+item.end_date+')</p>';
              html+='<div class="clearfix"><a  class="clearfix" href="'+link+'">';
              html+='<div class="sponsordiv"><h4>'+title+'</h4>';
              html+=content;
              html+='</div></a></div>';
            })
          $(holder).append(html);
        })
    }
    //
    // function to load an atom feed, an put it in an element
    //
    function atom(url, holder, count, showcont, spanclass){
        $.get(url, function (data) {
            var html = "";
            if (spanclass == undefined){
                spanclass = "span2"
            }
            var maxitems = 7;
            if(count)maxitems=count;
            var showcontent = false;
            if(showcont)showcontent=showcont;
            var counter = 0;
            $(data).find("entry").each(function () {
                var el = $(this);
                var title = el.find('title').text();
                var author = el.find('name').text();
                var content = el.find('content').text();
                if (content.length==0){
                    // try summary
                    content = el.find('summary').text();
                }
                var imglink='#';
                var link='#';
                el.find('link').each(
                    function(){
                        // flickr image for maps and qgis screenshots
                        if ($(this).attr('rel') == 'enclosure'){
                            //    s - Specifies the small square size of 75x75 pixels.
                            //    t - Specifies the thumbnail size with 100 pixels on the longest side.
                            //    m - Specifies the medium size with 240 pixels on the longest side.
                            //    z - Specifies the medium size with 640 pixels on the longest side.
                            //    b - Specifies the large size with 1024 pixels on the longest side.
                            //    q - square 
                            imglink = $(this).attr('href').replace('_b.jpg','_q.jpg');
                        }
                        // links
                        else if ($(this).attr('rel') == 'alternate'){
                            link = $(this).attr('href');
                        }
                    }
                )
                counter++;

                if (counter<=maxitems && 
                    (holder == '#qgisflickrmapsatom' || holder == '#qgisflickrscreenshotsatom') ){
                    // html for flickr maps
                    html+='<div class="'+spanclass+'"><p><a class="external" href="'+link+'">';
                    if(imglink!='#'){ html+='<img class="flickrimg" src="'+imglink+'"/>'; }
                    html+='</a></p></div>\n';
                }
                else if (counter<=maxitems){
                    // visual changelogs, qugs feed and planet feed
                    var addit = true;
                    if (holder == '#qgisplanetatom'){
                        var s = title.split(':');
                        title = s[0];
                        content = s[1];
                        // skip blog.qgis.org posts
                        if (link.indexOf('blog.qgis.org')>=0){
                            addit = false;
                            counter --;
                        }
                    }
                    else if (holder == '#qgissustainingmembersatom' || holder == '#qgissustainingmembersatom'){
                        html+='<div class="clearfix"><a  class="clearfix" href="'+link+'">';
                        html+='<div class="sponsordiv"><h4>'+title+'</h4>';
                        html+=content;
                        html+='</div></a></div>';
                        addit = false; // we are building html ourselves!!
                    }
                    else if (holder == '#qgisblogatom'){
                        var s = title.split(':');
                        if (s[0] != 'QGIS Project blog'){
                            addit = false;
                            counter--;
                        }
                        // trying to extract date from link
                        // http://blog.qgis.org/2017/09/02/do-you-want-to-host-a-qgis-developer-meeting/
                        d = link.split('/').slice(3,6);  // 2017,09,02
                        title = '<img src="../_static/logo.png" style="width:30px;"/> - ' + d[0] + '/' + d[1] + '/' + d[2] + ' - ' + s[1];
                        content = '';
                    }
                    if (addit){
                        html+='<a class="external" href="'+link+'">';
                        html+='<div class="info-box" style="padding:10px;color:#666;"><b>'+title+'</b><br/>';
                        if (showcontent) { html+=content; };
                        html+='</div></a>\n';
                    }
                }
            });
            $(holder).append(html);
        });
    }

    //
    // function to replace a item
    //
    function replacesha(id) {
      var xhr = new XMLHttpRequest();
      xhr.onload = function () {
	var sha = this.responseText.substring(this.responseText.indexOf(':')+1);
        document.getElementById(id).innerHTML = "<a target=\"_new\" href=\"http://github.com/qgis/QGIS/commit/" + sha + "\">" + sha + "</a>";
      };
      xhr.open('GET', '/downloads/' + id + '.sha');
      xhr.send();
    }
</script>
        
        <div class="nav-collapse collapse">
          <ul class="unstyled nav main-menu">
            <li><a href="../../about/index.html">Знайомство</a></li>
            <li><a href="../../forusers/index.html">Користувачам</a></li>
            <li><a href="../index.html">Приєднатися</a></li>
            <li><a href="../../../docs/index.html">Документація</a></li>
            <li>
          
<form class="navbar-search" action="../../../search.html" method="get">
  <input type="text" name="q" class="search-query" placeholder="Пошук" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </li>
          </ul>
        </div>
      </div>
    </div>
  </div>


    <div style="display:none;" class="container" id="nextprev" >
    
    <a accesskey="p" href="development.html">&lt;&lt; prev</a>
    
    
    <a accesskey="n" href="../tests.html">next &gt;&gt;</a>
    
    </div>




    
        <div class="container">
            <div class="row">
      <div class="span4">
        <div id="sidebar" class="bs-sidenav well" data-spy="scroll"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">Знайомство с QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../forusers/index.html">Користувачу</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Взяти участь / Розробка</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../document.html">Написання документації</a></li>
<li class="toctree-l2"><a class="reference internal" href="../translate.html">Переклад</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Розробка</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="contributor_requirements.html">Requirements for new contributors</a></li>
<li class="toctree-l3"><a class="reference internal" href="roadmap.html">Дорожня карта</a></li>
<li class="toctree-l3"><a class="reference internal" href="bugreporting.html">Помилки, нові можливості та інші проблеми</a></li>
<li class="toctree-l3"><a class="reference internal" href="development.html">Development in QGIS</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Додавання інструментів GRASS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-configuration">Настройки модуля</a></li>
<li class="toctree-l4"><a class="reference internal" href="#menu-configuration">Настройка меню</a></li>
<li class="toctree-l4"><a class="reference internal" href="#general-rules-for-new-modules">Загальні правила для нових модулів</a></li>
<li class="toctree-l4"><a class="reference internal" href="#specific-rules-for-module-descriptions">Вимоги до описів модулів</a></li>
<li class="toctree-l4"><a class="reference internal" href="#options-which-cannot-be-currently-used">Настройки, які не можуть використовуватися</a></li>
<li class="toctree-l4"><a class="reference internal" href="#modules-which-can-be-added">Модулі, які можна додати</a></li>
<li class="toctree-l4"><a class="reference internal" href="#modules-to-be-deprecated">Модулі, які будуть виключені</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tests.html">Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daily_reports/index.html">Daily Reports</a></li>
<li class="toctree-l2"><a class="reference external" href="http://plugins.qgis.org">Plugins website</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mailinglists.html">Списки розсилки</a></li>
<li class="toctree-l2"><a class="reference internal" href="../governance/index.html">Структура проекту</a></li>
<li class="toctree-l2"><a class="reference internal" href="../meetings/index.html">Зустрічі</a></li>
<li class="toctree-l2"><a class="reference internal" href="../governance/sustaining_members/index.html">Sustaining Membership Program</a></li>
<li class="toctree-l2"><a class="reference internal" href="../donations.html">Пожертвування</a></li>
<li class="toctree-l2"><a class="reference internal" href="../certification.html">Certification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq/index.html">Поширені питання</a></li>
<li class="toctree-l2"><a class="reference internal" href="../styleguide.html">Visual Style Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/index.html">Документація</a></li>
</ul>

        </div>
      </div>
                <div class="span8">
                    
                        
                            <div class="section" id="adding-grass-tools">
<span id="addinggrasstools"></span><h1>Додавання інструментів GRASS<a class="headerlink" href="#adding-grass-tools" title="Постійне посилання на цей заголовок">¶</a></h1>
<p>QGIS дозволяє використовувати модулі GRASS через <em>Інструменти GRASS</em>, якщо вона була запущена з командного рядка GRASS або у ній було відкрито набір даних GRASS. Модулі працюють виключно з даними GRASS.</p>
<p>Ви можете легко змінити меню або додати нові модулі, оскільки і меню, і модулі описуються конфігураційними файлами формату XML. Нижче розказується як саме створювати нові модулі та редагувати дерево модулів.</p>
<div class="section" id="module-configuration">
<h2>Настройки модуля<a class="headerlink" href="#module-configuration" title="Постійне посилання на цей заголовок">¶</a></h2>
<div class="section" id="background">
<h3>Загальні відомості<a class="headerlink" href="#background" title="Постійне посилання на цей заголовок">¶</a></h3>
<p>Настройки модуля знаходяться на вкладці _*Настройки*_, яка генерується на основі інформації з файлів QGM (QGIS GRASS module) та GMO (GRASS module options). Так як кожна настройка з файлу QGM пов’язана з однією (або декількома) настройками файлу GMO, корисно, ба навіть необхідно, мати перед очима файл GMO. GMO є XML-файлом, який автоматично генерується під час запуску модуля GRASS з параметром _*–interface-description_*, наприклад:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">r</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">vect</span> <span class="o">--</span><span class="n">interface</span><span class="o">-</span><span class="n">description</span>
</pre></div>
</div>
<p>Деякі модулі GRASS мають дуже багато настройок, що може заплутувати новачків. Під час створення файлу QGM можна використовувати лише деякі з доступних настройок, а також вказати для частини з них значення за замовчанням або навіть приховати настройки з заздалегідь заданими значеннями. Це означає, що один модуль GRASS може бути представлений декількома модулями QGIS-GRASS. Наприклад, модуль r.to.vect представлено трьома модулями QGIS-GRASS із заданою настройкою «feature». Для кожного модуля QGIS-GRASS створюється свій файл QGM, який є файлом формату XML з розширенням .qgm. Файли описів знаходяться у каталозі _*qgis/src/plugins/grass/modules*_ та встановлюються у каталог _*share/qgis/grass/modules*_. Ім’я файлу повинно починатися з назви модуля GRASS, до якої додається слово, що описує відповідну задачу. Наприклад, модуль, який виділяє векторні лінії з растру, називається r.to.vect.line.qgm.</p>
<p>Нижче наведено приклад файлу опису:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE qgisgrassmodule SYSTEM &quot;http://mrcc.com/qgisgrassmodule.dtd&quot;&gt;
&lt;qgisgrassmodule label=&quot;Generate aspect map from DEM&quot; module=&quot;r.slope.aspect&quot;&gt;
       &lt;option key=&quot;elevation&quot; /&gt;
       &lt;option key=&quot;aspect&quot; /&gt;
&lt;/qgisgrassmodule&gt;
</pre></div>
</div>
</div>
<div class="section" id="qgisgrassmodule-tag-attributes">
<h3>Атрибути теґу qgisgrassmodule<a class="headerlink" href="#qgisgrassmodule-tag-attributes" title="Постійне посилання на цей заголовок">¶</a></h3>
<ul class="simple">
<li><em>label</em> — опис, який буде відображено у дереві модулів</li>
<li><em>module</em> — ім’я виконуваного файлу модуля або сценарію GRASS.</li>
</ul>
</div>
<div class="section" id="option-tags">
<h3>Теґи настройок<a class="headerlink" href="#option-tags" title="Постійне посилання на цей заголовок">¶</a></h3>
<p>Кожний теґ qgisgrassmodule може містити один або декілька теґів настройок:</p>
<ul class="simple">
<li><em>option</em> — відповідає теґу parameter GMO, наприклад:</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">option</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;elevation&quot;</span> <span class="o">/&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><em>flag</em> — відповідає теґу flag GMO, наприклад:</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">flag</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;o&quot;</span> <span class="n">answer</span><span class="o">=</span><span class="s2">&quot;on&quot;</span> <span class="n">hidden</span><span class="o">=</span><span class="s2">&quot;yes&quot;</span> <span class="o">/&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><em>field</em> — для векторних шарів задає поле таблиці атрибутів, виглядає як випадаючий список з іменами наявних полів. Наприклад (v.to.db.qgm):</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">field</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;column&quot;</span> <span class="n">layer</span><span class="o">=</span><span class="s2">&quot;map&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;integer,double&quot;</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Attribute field&quot;</span> <span class="o">/&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><em>selection</em> — доволі цікава та корисна настройка. Дозволяє задавати список категорій GRASS за допомогою інтерфейсу QGIS. Об’єкти (та їх категорії, еквівалент ID об’єктів у GRASS) можна вибирати за допомогою інструменту «Вибрати об’єкти» або через таблицю атрибутів. Список категорій оновлюється автоматично. Приклад (v.extract.list.qgm):</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">selection</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;list&quot;</span> <span class="n">layerid</span><span class="o">=</span><span class="s2">&quot;input&quot;</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Cats&quot;</span> <span class="o">/&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="common-option-flag-tag-attributes">
<h3>Атрибути, спільні для теґів option та flag<a class="headerlink" href="#common-option-flag-tag-attributes" title="Постійне посилання на цей заголовок">¶</a></h3>
<ul class="simple">
<li><em>key</em> — назва настройки модуля у GMO.</li>
<li><em>answer</em> — значення за замовчанням (перекриває значення за замовчанням з GMO); значення «on» активує перемикач.</li>
<li><em>hidden</em> — настройка не буде доступна у діалозі, але модуль буде запущено з цією настройкою (hidden=»yes»).</li>
<li><em>label</em> — назва настройки</li>
<li><em>advanced</em> — «yes» або «no», за замовчанням «no». Якщо вказано «yes», настройка буде розміщена у прихованій панелі просунутих параметрів,і під панеллю з базовими настройками буде розміщено кнопку «Показати просунуті настройки &gt;&gt;»</li>
<li><em>version_min</em> — мінімальна версія GRASS, де присутня вказана настройка/перемикач</li>
<li><em>version_max</em> — максимальна версія GRASS, де присутня вказана настройка/перемикач</li>
</ul>
</div>
<div class="section" id="option-tag-specific-attributes">
<h3>Атрибути теґу option<a class="headerlink" href="#option-tag-specific-attributes" title="Постійне посилання на цей заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>typeoption</em> — атрибут використовується з векторними шарами, щоб задавати тип вхідного векторного шару. Наприклад (v.overlay.or.qgm):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">option</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;ainput&quot;</span> <span class="n">typeoption</span><span class="o">=</span><span class="s2">&quot;atype&quot;</span> <span class="n">layeroption</span><span class="o">=</span><span class="s2">&quot;alayer&quot;</span> <span class="n">typemask</span><span class="o">=</span><span class="s2">&quot;area,line&quot;</span> <span class="o">/&gt;</span>
</pre></div>
</div>
<p>Це означає, що якщо шар було вибрано з випадаючого списку, то в якості типу шару буде використано _*atype*_, а значить додатково вказувати _*atype*_ не треба.</p>
</li>
<li><p class="first"><em>layeroption</em> — те ж саме, що й typeoption.</p>
</li>
<li><p class="first"><em>typmask</em> — задає тип вхідних шарів. В якості вхідних шарів будуть доступні лише шари вказаних типів. Приклад використання дивись у файлі v.overlay.or.qgm.</p>
</li>
</ul>
</div>
<div class="section" id="field-tag-specific-attributes">
<h3>Атрибути теґу field<a class="headerlink" href="#field-tag-specific-attributes" title="Постійне посилання на цей заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>layer</em> — головний атрибут, який визначає векторний шар, поля якого повинні використовуватися on</p>
</li>
<li><p class="first"><em>type</em> — визначає тип даних полів, які повинні відображатися у випадаючому списку, наприклад</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">field</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;column&quot;</span> <span class="n">layer</span><span class="o">=</span><span class="s2">&quot;map&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;integer,double&quot;</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Attribute field&quot;</span> <span class="o">/&gt;</span>
</pre></div>
</div>
<p>Це означає, що у випадаючому списку будуть лише поля, тип даних яких є цілим числом або числом з плавучою комою. Приклад використання дивись у файлі v.what.vect (2 різних вектори).</p>
</li>
</ul>
</div>
<div class="section" id="behind-the-scene">
<h3>Як це працює<a class="headerlink" href="#behind-the-scene" title="Постійне посилання на цей заголовок">¶</a></h3>
<p>Ідея, що лежить в основі реалізації модулів QGIS-GRASS, полягає у використанні максимум інформації з GMO та спрощенні інтерфейсу. Тут описано в якому порядку та як саме використовується інформації з GMO.</p>
<ul class="simple">
<li><em>label</em> — якщо у GMO присутній атрибут label, він використовується як назва настройки. Якщо він відсутній — використовується теґ label параметру option. У випадку, якщо і він відсутній — використовується теґ description.</li>
<li><em>tooltip</em> — (з’являється при наведені миші на настройку) якщо атрибут label задано (у QGM або GMO) та у GMO присутній теґ description (тобто label та description відрізняються), в якості tooltip використовується теґ decription GMO.</li>
<li><em>multiple values</em> label — якщо настройка має тип multiple з заданим списком можливих значень (як настройка upload у v.distance) та для теґу value задано атрибут, вона використовується як підпис перемикача</li>
</ul>
</div>
<div class="section" id="picture">
<h3>Іконка<a class="headerlink" href="#picture" title="Постійне посилання на цей заголовок">¶</a></h3>
<p>Кожний модуль повинен мати своє зображення/іконку, яке показує функціональне призначення модуля. Зображення зберігаються каталозі plugins/grass/modules у вигляді файлів SVG (<em>.svg) або PNG (</em>.png).</p>
<p>Наразі підтримується 3 варіанти зображень:</p>
<ul class="simple">
<li>1 зображення</li>
<li>2 зображення — QGIS створить іконку: 1 -&gt; 2</li>
<li>3 зображення — QGIS створить іконку: 1 + 2 -&gt; 3</li>
</ul>
<p>Назва зображення починається з назви модуля QGIS-GRASS, до якої додається номер зображення. Наприклад: v.overlay.and.1.svg, v.overlay.and.2.svg, v.overlay.and.3.svg. Допускається одночасне використання зображень у форматах SVG та PNG.</p>
<p>Файли SVG та PNG можна отримати за допомогою <em>редактора макетів</em> QGIS. Розмір зображень у форматі PNG повинен бути більшим за розмір іконки, оскільки в подальшому це зображення також буде використовуватися для документації, і там необхідний більший розмір зображень.</p>
</div>
<div class="section" id="qgis-grass-scripts">
<h3>Сценарії QGIS GRASS<a class="headerlink" href="#qgis-grass-scripts" title="Постійне посилання на цей заголовок">¶</a></h3>
<p>Оскільки нові скрипти додаються до стабільного випуску GRASS з достатньо великою затримкою, а також через те, що деякі скрипти корисні лише для графічного інтерфейсу QGIS, передбачена можливість додавати скрипти «GRASS» до QGIS. Такі скрипти повинні відповідати загальним вимогам до скриптів GRASS та розміщуються у каталозі qgis/src/plugins/grass/scripts.</p>
</div>
</div>
<div class="section" id="menu-configuration">
<h2>Настройка меню<a class="headerlink" href="#menu-configuration" title="Постійне посилання на цей заголовок">¶</a></h2>
<p>Після того, як створено новий конфігураційний файл QGM, новий модуль можна додати до списку модулів. Список задається файлом qgis/src/plugins/grass/config/default.qgc. Розділи цього файлу мають ієрархічну структуру та відображають меню у вигляді дерева.</p>
<p>Нижче наведено приклад запису для модуля r.to.vect.line.qgm</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">section</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Convert raster to vector&quot;</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">grass</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;r.to.vect.line.qgm&quot;</span><span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">section</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Для секції або модуля можна вказати версії GRASS, які підтримуються, за допомогою атрибутів version_min/version_max:</p>
<ul class="simple">
<li><em>version_min</em> — мінімальна версія GRASS, де присутня секція/модуль</li>
<li><em>version_max</em> — максимальна версія GRASS, де присутня секція/модуль</li>
</ul>
</div>
<div class="section" id="general-rules-for-new-modules">
<h2>Загальні правила для нових модулів<a class="headerlink" href="#general-rules-for-new-modules" title="Постійне посилання на цей заголовок">¶</a></h2>
<p><em>Інструменти GRASS</em> розраховані на недосвідчених користувачів та початківців. Основними правилами є:</p>
<ul class="simple">
<li>Кожний модуль повинен мати 3 або більше параметрів, якщо необхідно додати більше параметрів, слід провести обговорення</li>
<li>Опис модуля повинен бути надійний, тобто не дозволяти користувачу виконувати операцію з неправильними настройками. Якщо для деяких настройок модуля це можливо реалізувати — модуль не повинен додаватися до меню</li>
</ul>
</div>
<div class="section" id="specific-rules-for-module-descriptions">
<h2>Вимоги до описів модулів<a class="headerlink" href="#specific-rules-for-module-descriptions" title="Постійне посилання на цей заголовок">¶</a></h2>
<ul class="simple">
<li>Уникайте використання дієслів у 3-й особі, наприклад, «Export raster» замість «Exports raster»</li>
<li>Не зловживайте словами «map», «layer» та «file», наприклад, «Export raster» замість «Export raster map layer»</li>
<li>Уникайте зайвого використання «GRASS», тобто «Export raster» а не «Export GRASS raster»</li>
<li>Уникайте використання «a|an», наприклад, «Export raster» замість «Exports a raster»</li>
<li>Уникайте використання допоміжних слів, наприклад, «Export raster» замість «Allows the export of a raster»</li>
<li>Уникайте слова «Convert»: використовуйте «Export» або «Import». «Convert» слід використовувати лише для внутрішніх перетворень GRASS (наприклад, з растру у вектор)</li>
<li>Абревіатури повинні набиратися у верхньому регістрі, наприклад, «ASCII» а не «ascii»</li>
<li>У випадку сумнівів — перегляньте наявні подібні модулі, щоб дотримуватися узгодженості</li>
</ul>
</div>
<div class="section" id="options-which-cannot-be-currently-used">
<h2>Настройки, які не можуть використовуватися<a class="headerlink" href="#options-which-cannot-be-currently-used" title="Постійне посилання на цей заголовок">¶</a></h2>
<p>Технічно можна використовувати будь-які настройки. Але деякі з них зараз мають обмежену підтримку, наприклад, ті, що залежать від інших настройок. Тут наведено список (можливо неповний) настройок, які мають обмежену підтримку і не повинні використовуватися:</p>
<ul class="simple">
<li>Вхідний шар/рядок підключення OGR (v.in.ogr)</li>
</ul>
</div>
<div class="section" id="modules-which-can-be-added">
<h2>Модулі, які можна додати<a class="headerlink" href="#modules-which-can-be-added" title="Постійне посилання на цей заголовок">¶</a></h2>
<p>Більшість модулів вже додано. Якщо вам потрібні додаткові — будь ласка, напишіть до списку розсилки розробників QGIS та додайте до цього списку модулі, які на ваш погляд необхідно додати.</p>
<p>Необхідно вказати назву нового модуля QGIS-GRASS, назву модуля GRASS а також список настройок, які планується використовувати. Наприклад:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">r</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">vect</span><span class="o">.</span><span class="n">area</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">vect</span> <span class="nb">input</span> <span class="n">output</span> <span class="n">feature</span><span class="o">=</span><span class="n">area</span>
</pre></div>
</div>
<p>Також перегляньте обговорення «GRASS-QGIS relevant module list»:<a class="reference external" href="http://grass.osgeo.org/wiki/GRASS-QGIS_relevant_module_list">http://grass.osgeo.org/wiki/GRASS-QGIS_relevant_module_list</a>.</p>
</div>
<div class="section" id="modules-to-be-deprecated">
<h2>Модулі, які будуть виключені<a class="headerlink" href="#modules-to-be-deprecated" title="Постійне посилання на цей заголовок">¶</a></h2>
<p>Нижче надано список модулів, які будуть видалені, з обґрунтуванням причин (наприклад: деякі модулі, пов’язані з проекціями, важко використовувати, деякі — мають специфічну сферу використання). Майте на увазі, деякі модулі не були ретельно протестовані. Будь ласка, протестуйте їх, і якщо знайдете помилки — повідомте про них (а краще — виправте самостійно та надішліть патч).</p>
</div>
</div>

                        
                    
                </div>
                  
            </div>
        </div>
    

    <!--<a href="https://github.com/qgis/"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png" alt="Fork me on GitHub"></a>-->
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Навігація</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="Загальний індекс"
             >індекс</a></li>
        <li class="right" >
          <a href="../tests.html" title="Tests"
             >наступний</a> |</li>
        <li class="right" >
          <a href="development.html" title="Development in QGIS"
             >попередній</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html"></a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Взяти участь / Розробка</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Розробка</a> &#187;</li> 
      </ul>
    </div>
  <footer class="footer">

    <div class="container">
        <div>
          <ul class="unstyled inline" id="social">
            <li id="twitter"><a href="http://twitter.com/qgis" class="external"><div></div></a></li>
            <li id="facebook"><a href="https://www.facebook.com/pages/QGIS-Quantum-GIS-/298112000235096" class="external"><div></div></a></li>
            <li id="gplus"><a href="http://plus.google.com/communities/114776597176808981624" class="external"><div></div></a></li>
            <li id="github"><a href="http://github.com/qgis/" class="external"><div></div></a></li>
            <li id="aboutcontact"><a href="../index.html"><div></div></a></li>
          </ul>
        </div>

        <p class="credit">Якщо не вказано інше, вся інформація ліцензується за <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 licence (CC BY-SA)</a> </p>
    </div>
    <div class="container">
      <p class="credit">
        Використані зображення з <a href="http://thenounproject.com" target="_blank">The Noun Project collection</a>
        
        
      </p>
      <p class="credit">
        Сторінка без перекладу? Або ви побачили помилку:
        <a id="fix_translation_link" target="_blank" href="https://www.transifex.com/projects/p/qgis-website/">виправте</a>
        <br/>
        Помилка в тексті, відстуній текст або ви маєте кращий варіант:
        <a id="fix_text_link" target="_blank" href="https://github.com/qgis/QGIS-Website">виправте</a>
      </p>
    </div>
  </footer>

  </body>
</html>